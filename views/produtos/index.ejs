<form method="GET" action="/produtos" class="mb-4">
    <div class="form-group">
        <label for="categoria">Filtrar por Categoria:</label>
        <select id="categoria" name="categoria" class="form-control w-25">
            <option value="">Todas as Categorias</option>
            <% categorias.forEach(categoria => { %>
                <option value="<%= categoria.id %>" <%= categoriaSelecionada == categoria.id ? 'selected' : '' %>><%= categoria.nome %></option>
            <% }) %>
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Filtrar</button>
</form>

<div class="row">
    <% produtos.forEach(produto => { %>
        <div class="col-md-4 mb-4">
            <div class="card" style="background-color: white; color: black; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
                <div class="card-body">
                    <h5 class="card-title"><%= produto.nome %></h5>
                    <p class="card-text"><%= produto.descricao %></p>
                    <p><strong>Pre√ßo:</strong> R$ <%= produto.preco.toFixed(2) %></p>
                    <p><strong>Quantidade:</strong> <%= produto.quantidade %></p>
                    <p><strong>Categoria:</strong> <%= produto.categoria_nome %></p>
                    <a href="/produtos/<%= produto.id %>" class="btn btn-primary btn-sm">Ver</a>
                    <a href="/produtos/<%= produto.id %>/edit" class="btn btn-warning btn-sm">Editar</a>
                    <form action="/produtos/<%= produto.id %>?_method=DELETE" method="POST" style="display:inline;">
                        <button type="submit" class="btn btn-danger btn-sm">Excluir</button>
                    </form>
                </div>
            </div>
        </div>
    <% }) %>
</div>
